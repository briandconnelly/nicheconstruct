
# Discussion

Despite their negative effects, deleterious traits can rise in abundance due to genetic linkage with other traits that are strongly favored by selection [@maynardsmith1974hitch].
In a process termed the "Hankshaw effect", @HANKSHAW recently demonstrated that cooperation can actively prolong its existence by increasing its likelihood of hitchhiking with a beneficial trait.
While this process does favor cooperation in the short term, it eventually reaches a dead end; when the opportunities for adaptation are exhausted and cooperators can no longer hitchhike, they face extinction.
In this work, we have considered whether niche construction might serve to perpetually generate new adaptive opportunities and thus favor cooperation indefinitely.

When niche construction occurs, cooperation can indeed persist (Figures [2C](#fig2) and [3A](#fig3)).
In our model, niche construction introduces additional selective effects that could influence the evolutionary process, leading to a more pronounced Hankshaw effect.
However, simply raising the fitness benefits conferred by adaptations does not prolong cooperation ([Figure 3B](#fig3)), which indicates that niche construction and the selective feedbacks that it produces play a crucial role.

Further, we find that it is specifically negative niche construction that maintains cooperation ([Figure 3C](#fig3)).
Here we observe another facet of the Hankshaw effect: because populations of cooperators are larger, they are better able to respond to the adaptive opportunities that result from negative niche construction.
Without these adaptive opportunities, adaptation eventually grinds to a halt.
Once this occurs, cooperators face the threat of invasion by isogenic defectors that arise through mutation.
Since these defectors are equally adapted but do not bear the cost of cooperation, they quickly drive cooperators to extinction.
Importantly, because every type constructs an environment in which a different type is more fit, negative niche construction creates continual adaptive opportunities.
These opportunities can allow cooperators to resist invasion by defectors, even when defectors are equally adapted ([Figure 4B](#fig4)).
It is these recurring cycles of invasion and adaptation that underlie the oscillations in cooperator populations that we see in [Figure 3A](#fig3).
When stochastic mutations do not engender these adaptations, defectors invade, and the cycle is broken.

While negative niche construction is necessary, we find that making the selective effects of niche construction more negative is more disruptive to cooperation than helpful ([Figure 6A](#fig6)).
Instead, it is the rate at which cooperators gain adaptations that allow them to escape invasion.
When the mutation rate at adaptive loci was increased, cooperation was maintained in more populations, despite the increased opportunity for gaining deleterious mutations ([Figure 6B](#fig6)).
Taken together, these results indicate that cooperators are better able to escape defector invasion when adaptation has a clear path.

When the selective effects of niche construction are more negative, populations become more diverse.
This diversity could potentially mean that when a defector arises, the type that outcompetes it may already be present in the population.
But diversity is a double edged sword.
Because a neighboring patch in a diverse population is also more likely to have constructed a different niche.
This can greatly limit how quickly an adapted type can spread, as that type is likely to have evolved in a different niche, making it less fit in neighboring environments.
Instead, when a cooperator population is homogeneous, the evolutionary trajectories of its subpopulations are more aligned.
As we see in [Figure 5](#fig5), when an adapted type emerges in a more homogeneous population, that type can quickly spread throughout the population, thwarting invasion by isogenic defector types.


## Niche Construction and the Evolution of Cooperation

In our model, cooperation is orthogonal to niche construction, which allows us to focus on hitchhiking.
However, by increasing the size of the local patch, this form of cooperation could itself be seen as a niche constructing behavior.
Previous studies have more directly explored how niche construction and cooperation interact.
@lehmann2007evolution showed that cooperation can be favored when niche construction acted to decouple kin competition from kin selection in spatially-structured populations.
Perhaps most similar our work, @vandyken2012origins demonstrated that when two negative niche constructing cooperative behaviors co-evolve, selection can increasingly favor these traits, which were disfavored when alone. 
In that model, "reciprocal niche construction" occurred when the negative feedback created by one strategy positively influenced selection on the other, creating a perpetual cycle that maintained both forms of cooperation.
Arguably, this can be viewed as an instance of hitchhiking: the currently-maladaptive form of cooperation is maintained by association with the adaptive form.
Outside of the context of cooperation, Laland, Odling-Smee, and Feldman have shown that niche construction can allow deleterious alleles to be maintained [-@laland1999evolutionary; -@laland1996evolutionary].
Indeed, cooperation, especially in competition against equally-adapted defectors, can be considered deleterious.


## Evolution at Multiple Timescales

In the model described by @lehmann2007evolution, the selective feedbacks produced by the cooperative, niche-constructing behavior only affected future generations.
Kin competition thereby was reduced, and cooperation instead benefitted descendants.
Other studies, while not focused on cooperation, have similarly shown that the timescales at which niche construction feedbacks occur can strongly influence evolutionary outcomes [@laland1999evolutionary; @laland1996evolutionary].
This perspective is likely to be crucial for understanding the evolution of cooperative behaviors like the production of public goods.

For example, bacteria produce a host of extracellular products that scavenge soluble iron [@griffin2004cooperation], digest large proteins [@darch2012density; @diggle2007cooperation], and reduce the risk of predation [@cosson2002pseudomonas].
While many studies have focused on how the environment affects the evolution of these cooperative public goods, relatively few have addressed how the environmental changes created by public goods feed back to influence evolution.
In these instances, environmental changes are likely to occur on different timescales than reproduction, which can have profound effects.
For example, a multitude of factors including protein durability [@brown2007durability; @kummerli2010molecular], diffusion [@driscoll2010theory; @allison2005cheaters], and resource availability [@zhang2013exploring; @ghoul2014experimental] influence both the rate and the degree to which public goods alter the environment.
While @lehmann2007evolution showed that cooperation was favored when selective feedbacks act over longer timescales, niche construction may in fact hinder cooperation when selection is more quickly altered.
For example, when public goods accumulate in the environment, cooperators must decrease production to remain competitive [@kummerli2010molecular; @dumas2012cost].
This favors cooperation that occurs facultatively, perhaps by sensing the abiotic [@koestler2014bile; @bernier2011modulation] or biotic environment [@darch2012density; @brown2001cooperation].


## Cooperation and Niche Construction in Host-Symbiont Co-Evolution

In many instances where cooperation occurs, the environment is itself a biological entity, which can introduce additional evolutionary feedbacks.
As the host population changes, so too does selection on their symbiont populations.
Here, evolutionary outcomes depend greatly on the degree of shared interest between the host and symbiont.
For example, the cooperative production of virulence factors by the human pathogen *P. aeruginosa* in lung infections is harmful to hosts with cystic fibrosis [@harrison2007microbial].
Conversely, cooperative light production by *A. fischeri* is vital for the survival of its host, the Hawaiian bobtail squid [@ruby1996lessons].
It was recently argued that incorporating the effects of niche construction is critical for improving our understanding of viral evolution [@hamblin2014viral] and evolution in co-infecting parasites [@hafer2015when].
Incorporating host dynamics, co-evolution, and the feedbacks that they produce into models is likely to be equally important for gaining an understanding of how cooperative behaviors evolve in these host-symbiont settings.

