# Introduction

Cooperative behaviors are common across all branches of the tree of life. Insects divide labor within their colonies, plants and soil bacteria exchange essential nutrients, birds care for others' young, and the trillions of cells in the human body restrain their growth and coordinate to provide vital functions. Each instance of cooperation presents an evolutionary challenge: How can individuals that sacrifice their own well-being to help others avoid subversion by those that do not? Over time, we would expect these *defectors* to rise in abundance at the expense of others, eventually driving cooperators---and perhaps the entire population---to extinction.

Several factors can defer this potential *tragedy of the commons* [@hardin1968tragedy; @hamilton1964geneticalboth; @nowak2006five; @west2007evolutionary]. For example, cooperators must benefit more from the cooperative act than others. This can occur when cooperators are clustered together in spatially-structured populations [@kudzalfick2011high; @fletcher2009simple; @nadell2010emergence] or when cooperators use communication [@darch2012density; @brown2001cooperation] or other cues [@gardner2010greenbeards; @sinervo2006selfrecognition; @veelders2010structural] to cooperate conditionally with kin. Interestingly, cooperation can also be bolstered by genetic linkage with self-benefitting traits [@dandekar2012bacterial; @asfahl2015nonsocial; @foster2004pleiotropy], setting the stage for an "adaptive race" in which cooperators and defectors vie for the first highly-beneficial non-social adaptation [@waite2012adaptation; @morgan2012selection].

@HANKSHAW recently showed that in spatially-structured populations, cooperators can gain a substantial leg up on defectors in an adaptive race when the cooperative behavior increases local population density, thus increasing the likelihood of acquiring beneficial non-social mutations. By hitchhiking along with these adaptations, the cooperative trait can rapidly rise in abundance. Nevertheless, this advantage is fleeting. As soon as the opportunities for adaptation are exhausted, cooperators are once again at a disadvantage against defectors, particularly those that arise from within via mutations that disable cooperation. However, @HANKSHAW demonstrated that cooperation can be maintained indefinitely when frequent environmental changes produce a steady stream of non-social adaptive opportunities. Although organisms typically find themselves in dynamic environments, change might not occur at a rate that provides sufficient adaptive opportunities to ensure long-term cooperator survival.

In this work, we examine whether the changes in selection that arise as organisms modify their environment can create opportunities that allow cooperators to be maintained by hitchhiking. We expand upon the model presented in @HANKSHAW, by allowing populations to alter their local environment based on the the presence of different non-social adaptations. Frequency-dependent selection on these adaptations creates an eco-evolutionary feedback that increasingly favors the adaptations present in each population. We first examine how the intensity of these feedbacks affects the hitchhiking process. Because the production of public goods increases population density, populations containing cooperators will exert a greater influence on their environment. As a result, these environments will be more quickly brought to states where fitness is higher.

As populations construct unique niches, they potentially decrease the threat of invasion from neighboring patches. This occurs when the traits that were advantageous in an immigrant's home niche are maladaptive elsewhere. Because environmental change is influenced solely by non-social phenotypes in this model, this change of invasibility affects cooperators and defectors equally. Here again, however, populations containing a greater number of cooperators may have an advantage. The greater number of individuals that emigrate from these larger populations allow them to "export" their niche---and thus reduce the fitness of neighboring competitors---at a higher rate. We explore whether the range expansion that this process enables provides additional opportunities for cooperation to hitchhike.

Finally, we demonstrate how *negative* niche construction, where populations change their environment in ways that reduce fitness, can further support cooperation. Even though the niche construction process creates selective feedbacks, we would expect the magnitude of these feedbacks to decrease as populations evolve. Once individuals can no longer gain adaptations that compensate for the costs of cooperation, they are then outcompeted by non-cooperators. However if populations construct their environment in a way which decreases fitness, cooperation can still hitchhike when this change also creates the opportunity to gain compensatory adaptations.

