# Introduction

Cooperative behaviors are common across all branches of the tree of life. Insects divide labor within their colonies, plants and soil bacteria exchange essential nutrients, birds care for others' young, and the trillions of cells in the human body restrain their growth and coordinate to provide vital functions. Each instance of cooperation presents an evolutionary challenge: How can individuals that sacrifice their own well-being to help others avoid subversion by those that do not? Over time, we would expect these *defectors* to rise in abundance at the expense of others, eventually driving cooperators---and perhaps the entire population---to extinction.

Several factors can prevent this *tragedy of the commons* [@hardin1968tragedy; @hamilton1964geneticalboth; @nowak2006five; @west2007evolutionary]. For example, cooperators must benefit more from the cooperative act than others. This can occur when cooperators are clustered together in spatially structured populations [@kudzalfick2011high; @fletcher2009simple; @nadell2010emergence] or when cooperators use communication [@darch2012density; @brown2001cooperation] or other cues [@gardner2010greenbeards; @sinervo2006selfrecognition; @veelders2010structural] to cooperate conditionally with kin. Interestingly, cooperation can also be bolstered by genetic linkage with self-benefitting traits [@dandekar2012bacterial; @asfahl2015nonsocial; @foster2004pleiotropy], setting the stage for an "adaptive race" in which cooperators and defectors vie for the first highly-beneficial adaptation [@waite2012adaptation; @morgan2012selection].

@HANKSHAW recently showed that in spatially structured populations, cooperators can gain a substantial leg up on defectors in an adaptive race. Specifically, cooperative behavior increases local population density, thus increasing the likelihood of acquiring beneficial mutations. By hitchhiking along with these adaptations, the cooperative trait can rapidly rise in abundance. Nevertheless, this advantage is fleeting. As soon as the opportunities for adaptation are exhausted, cooperators are once again at a disadvantage against defectors. However, @HANKSHAW demonstrated that cooperation can be maintained indefinitely when frequent environmental changes produce a steady stream of adaptive opportunities. Although organisms typically find themselves in dynamic environments, change might not occur at a rate that provides sufficient adaptive opportunities to ensure long-term cooperator persistence.

In this work, we demonstrate how cooperation can be maintained indefinitely by niche construction. We expand upon the model presented in @HANKSHAW to allow populations to alter their local environment. As environments change, so too does selection. This creates an eco-evolutionary feedback whereby selection is dependent on current genotypes, and the composition of genotypes is dependent on selection. Niche construction can be positive or negative, depending on whether the environmental change increases or decreases the fitness of the niche-constructing individual. Although niche construction occurs independently of cooperation in our model, the increase in density that results from cooperation has a profound effect on how populations evolve in the presence of selective feedbacks. First, these populations exert greater influence on their environments, which better enables them to benefit from positive niche construction. And as environments change, either through negative niche construction or external influences, these larger populations can adapt more quickly. We show that it is the combination of these factors that allows cooperation to persist.



### Stuff to be cut/integrated above


As populations construct unique niches, they potentially decrease the threat of invasion from neighboring patches. This occurs when the traits that were advantageous in an immigrant's home niche are maladaptive elsewhere. Because environmental change is influenced solely by non-social phenotypes in this model, this change of invasibility affects cooperators and defectors equally. Here again, however, populations containing a greater number of cooperators may have an advantage. The greater number of individuals that emigrate from these larger populations allow them to "export" their niche---and thus reduce the fitness of neighboring competitors---at a higher rate. We explore whether the range expansion that this process enables provides additional opportunities for cooperation to hitchhike.

Finally, we demonstrate how *negative* niche construction, where populations change their environment in ways that reduce fitness, can further support cooperation. Even though the niche construction process creates selective feedbacks, we would expect the magnitude of these feedbacks to decrease as populations evolve. Once individuals can no longer gain adaptations that compensate for the costs of cooperation, they are then outcompeted by non-cooperators. However if populations construct their environment in a way which decreases fitness, cooperation can still hitchhike when this change also creates the opportunity to gain compensatory adaptations.

